{"version":3,"file":"index.c89003c0.js","sources":["../src/pages/user/index.tsx"],"sourcesContent":["import React, {useEffect} from \"react\";\nimport {connect} from \"dva\";\nimport {Table} from 'antd';\nimport {useAntdTable} from 'ahooks';\nimport type {PaginatedParams} from 'ahooks/lib/useAntdTable';\n\n\nconst columns = [\n    {\n        title: 'title',\n        dataIndex: 'title',\n        key: 'title',\n    },\n\n    {\n        title: 'create_time',\n        dataIndex: 'create_at',\n        key: 'create_at',\n    },\n];\n\nconst User: React.FC<any> = (props) => {\n    console.log(props)\n    const {dispatch} = props;\n\n    // 列表加载数据的方法\n    //---------------\n    const getTableData = (\n        {current, pageSize}: PaginatedParams[0],\n        formData: Object,\n    ): Promise<any> => {\n        return new Promise((resolve) => {\n            dispatch({\n                type: 'test/getRequestData',\n                method: 'GET',\n                url: '/testApi/api/v1/topics',\n                payload: {\n                    pageNo: current,\n                    pageSize,\n                },\n                callback: (_data: any) => {\n                    console.log('_data', _data)\n                    let list = _data.data;\n                    let total = _data.total;\n                    resolve({\n                        list: list,\n                        total: total,\n                    });\n                },\n            });\n        });\n    };\n    const {tableProps, search} = useAntdTable(getTableData, {\n        defaultPageSize: 10,\n    });\n\n\n    return <Table columns={columns} rowKey=\"id\" {...tableProps} />;\n};\n\nexport default connect(({common,select}) => ({\n    common,\n    select\n}))(User);\n"],"names":["columns","User","props","dispatch","getTableData","current","pageSize","formData","resolve","_data","list","total","tableProps","search","useAntdTable","React","Table","__spreadValues"],"mappings":"qhBAOA,MAAMA,EAAU,CAAA,CACZ,MAAA,QAAA,UACW,QAAA,IACI,OAAA,EAAA,CAEf,MAAA,cAEA,UAAA,YAAA,IACW,WAAA,CAAA,EAEFC,EAAAC,GAAA,CACT,QAAA,IAAAA,CAAA,EACJ,KAAA,CAEM,SAAAC,CACF,EAAAD,EACME,EAAa,CAAA,CAInB,QAAAC,EAIW,SAAAC,CACM,EAAAC,IACC,IAAA,QAAAC,GAAA,CAAAL,EACE,CACR,KAAK,sBACL,OAAS,MAAA,IACG,yBACR,QAAA,CACJ,OAAAE,EACA,SAAAC,CACY,EACR,YAAiB,CACjB,YAAY,QAAMG,CAAA,EACV,IAAAC,EAAAD,EAAA,KACJE,EAAAF,EAAA,MACAD,EAAA,CACH,KAAAE,EACL,MAAAC,CAAA,CACH,CACJ,CAAA,CACL,CACA,CAAA,EAEC,CAGD,WAAAC,EAAc,OAAAC,CAAA,EAAyBC,EAAAV,EAAA,CAAM,gBAAG,EAAA,CAAY,EAChE,OAAAW,EAAA,cAAAC,EAAAC,EAAA,CAEA,QAAAjB,EACI,OAAA,MACAY"}