var _e=Object.defineProperty,ye=Object.defineProperties;var Oe=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var Pe=Object.prototype.hasOwnProperty,Ee=Object.prototype.propertyIsEnumerable;var K=(e,t,a)=>t in e?_e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,L=(e,t)=>{for(var a in t||(t={}))Pe.call(t,a)&&K(e,a,t[a]);if(G)for(var a of G(t))Ee.call(t,a)&&K(e,a,t[a]);return e},R=(e,t)=>ye(e,Oe(t));var k=(e,t,a)=>new Promise((n,i)=>{var d=s=>{try{c(a.next(s))}catch(r){i(r)}},m=s=>{try{c(a.throw(s))}catch(r){i(r)}},c=s=>s.done?n(s.value):Promise.resolve(s.value).then(d,m);c((a=a.apply(e,t)).next())});import{bY as D,_ as l,x as Te,C as Le,$ as Re,f as U,e as p,b as B,d as x,S as ke,D as De,a1 as q,a2 as Fe,af as Ae,ag as He,F as ze,h as je,c as We,R as I,bZ as Y}from"./index.353dd2ef.js";import{s as $e}from"./SearchMore.397c843d.js";import{w as Me,S as Ge}from"./index.db133115.js";import{G as Ke}from"./global.1dcc655e.js";import{d as Ue,h as qe,l as Ye,k as Ze,j as Be}from"./index.4897d79a.js";import{F as Je}from"./index.66f418cc.js";import"./index.5b65a776.js";import"./index.1af7b029.js";import"./index.adfb1e41.js";import"./Table.84915985.js";import"./Pagination.79d24ff3.js";import"./index.981931b8.js";import"./index.713bae6c.js";import"./utils.02df2309.js";var Qe=globalThis&&globalThis.__rest||function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]]);return a},Ve=D.SHOW_CHILD,Xe=D.SHOW_PARENT;function et(e,t,a){var n=e.toLowerCase().split(t).reduce(function(m,c,s){return s===0?[c]:[].concat(je(m),[t,c])},[]),i=[],d=0;return n.forEach(function(m,c){var s=d+m.length,r=e.slice(d,s);d=s,c%2===1&&(r=l.exports.createElement("span",{className:"".concat(a,"-menu-item-keyword"),key:"seperator-".concat(c)},r)),i.push(r)}),i}var tt=function(t,a,n,i){var d=[],m=t.toLowerCase();return a.forEach(function(c,s){s!==0&&d.push(" / ");var r=c[i.label],o=B(r);(o==="string"||o==="number")&&(r=et(String(r),m,n)),d.push(r)}),d},F=l.exports.forwardRef(function(e,t){var a,n=e.prefixCls,i=e.size,d=e.disabled,m=e.className,c=e.multiple,s=e.bordered,r=s===void 0?!0:s,o=e.transitionName,f=e.choiceTransitionName,g=f===void 0?"":f,N=e.popupClassName,J=e.dropdownClassName,A=e.expandIcon,S=e.placement,C=e.showSearch,H=e.allowClear,Q=H===void 0?!0:H,V=e.notFoundContent,_=e.direction,X=e.getPopupContainer,ee=e.status,y=e.showArrow,te=Qe(e,["prefixCls","size","disabled","className","multiple","bordered","transitionName","choiceTransitionName","popupClassName","dropdownClassName","expandIcon","placement","showSearch","allowClear","notFoundContent","direction","getPopupContainer","status","showArrow"]),ae=Te(te,["suffixIcon"]),v=l.exports.useContext(Le),re=v.getPopupContainer,O=v.getPrefixCls,oe=v.renderEmpty,ne=v.direction,P=_||ne,z=P==="rtl",w=l.exports.useContext(Ue),se=w.status,E=w.hasFeedback,ie=w.isFormItemInput,ce=w.feedbackIcon,le=Be(se,ee),de=V||(oe||qe)("Cascader"),j=O(),u=O("select",n),h=O("cascader",n),W=Re(u,_),me=W.compactSize,ue=W.compactItemClassnames,fe=U(N||J,"".concat(h,"-dropdown"),p({},"".concat(h,"-dropdown-rtl"),P==="rtl")),pe=l.exports.useMemo(function(){if(!C)return C;var b={render:tt};return B(C)==="object"&&(b=x(x({},b),C)),b},[C]),Ce=l.exports.useContext(ke),$=me||i||Ce,he=l.exports.useContext(De),xe=d!=null?d:he,M=A;A||(M=z?l.exports.createElement(Ae,null):l.exports.createElement(He,null));var ge=l.exports.createElement("span",{className:"".concat(u,"-menu-item-loading-icon")},l.exports.createElement(ze,{spin:!0})),ve=l.exports.useMemo(function(){return c?l.exports.createElement("span",{className:"".concat(h,"-checkbox-inner")}):!1},[c]),we=y!==void 0?y:e.loading||!c,T=Ye(x(x({},e),{hasFeedback:E,feedbackIcon:ce,showArrow:we,multiple:c,prefixCls:u})),be=T.suffixIcon,Ie=T.removeIcon,Ne=T.clearIcon,Se=function(){return S!==void 0?S:_==="rtl"?"bottomRight":"bottomLeft"};return l.exports.createElement(D,x({prefixCls:u,className:U(!n&&h,(a={},p(a,"".concat(u,"-lg"),$==="large"),p(a,"".concat(u,"-sm"),$==="small"),p(a,"".concat(u,"-rtl"),z),p(a,"".concat(u,"-borderless"),!r),p(a,"".concat(u,"-in-form-item"),ie),a),Ze(u,le,E),ue,m),disabled:xe},ae,{direction:P,placement:Se(),notFoundContent:de,allowClear:Q,showSearch:pe,expandIcon:M,inputIcon:be,removeIcon:Ie,clearIcon:Ne,loadingIcon:ge,checkable:ve,dropdownClassName:fe,dropdownPrefixCls:n||h,choiceTransitionName:q(j,"",g),transitionName:q(j,Fe(S),o),getPopupContainer:X||re,ref:t,showArrow:E||y}))});F.SHOW_PARENT=Xe;F.SHOW_CHILD=Ve;var at=F;const{rbacToken:Z}=Ke,rt=$e(at)`
  && {
    width: 100%;
    height: 43px;
    .ant-cascader-input {
      height: 100%;
    }
  }
`,ot=e=>{const t=e.conf,{name:a}=e,[n,i]=l.exports.useState([{name:1,id:1}]);function d(r){return k(this,null,function*(){let o=[];if(r.relationList){const f=r.relationList[0];o=yield Y({}.ROOT_URL_HTTP+f.url,{method:"GET",params:R(L({},f.payload),{rbacToken:Z})}),o=o.data}else o=r.options;i(s(o))})}l.exports.useEffect(()=>{d(t)},[]);const m=r=>k(void 0,null,function*(){const o=r.length-1,f=r[o];if(!t.relationList[o+1])return;const g=t.relationList[o+1],N=yield Y({}.ROOT_URL_HTTP+g.url,{method:"GET",params:R(L({[t.parentKeyName?t.parentKeyName:"id"]:f.id},g.payload),{rbacToken:Z})});f.children=s(N.data),i(n.slice())}),c=(r,o)=>{console.log(r,o)},s=r=>r.map(function(o){return o.isLeaf=!1,t.keyName&&(o.name=o[t.keyName]),o});return I.createElement(Me.Consumer,null,r=>{switch(r.state){case"default":return I.createElement(Ge,null,"");case"edit":case"disabled":return I.createElement(Je.Item,{name:a,rules:e.rules},I.createElement(rt,{style:t.style,disabled:r.state==="disabled",fieldNames:{label:"name",value:"id"},displayRender:o=>o.join?o.join(" / "):o,options:n,loadData:m,onChange:c,changeOnSelect:!0}))}})};var wt=We(({select:e})=>({select:e}))(ot);export{wt as default};
