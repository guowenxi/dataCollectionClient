import{_ as p,A as qe,a as me,am as D}from"./index.353dd2ef.js";var Ze={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 327c-29.9 0-58 11.6-79.2 32.8A111.6 111.6 0 00400 439c0 29.9 11.7 58 32.8 79.2A111.6 111.6 0 00512 551c29.9 0 58-11.7 79.2-32.8C612.4 497 624 468.9 624 439c0-29.9-11.6-58-32.8-79.2S541.9 327 512 327zm342.6-37.9a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 615c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]},name:"environment",theme:"filled"},Ke=Ze,Re=function(t,r){return p.exports.createElement(qe,me(me({},t),{},{ref:r,icon:Ke}))};Re.displayName="EnvironmentFilled";var Pi=p.exports.forwardRef(Re),s={},Z={},K={};Object.defineProperty(K,"__esModule",{value:!0});var Xe=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(i[e]=r[e])}return i},Ye=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}();function Je(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var et={v:"1.4.0",hostAndPath:"webapi.amap.com/maps",key:"f97efc35164149d0c0f299e7a8adb3d2",callback:"__amap_init_callback",useAMapUI:!1},F=null,A=null,ye=!1,tt=function(){function i(t){var r=t.key,e=t.useAMapUI,n=t.version,a=t.protocol;Je(this,i),this.config=Xe({},et,{useAMapUI:e,protocol:a}),typeof window!="undefined"&&(r?this.config.key=r:"amapkey"in window&&(this.config.key=window.amapkey)),n&&(this.config.v=n),this.protocol=a||window.location.protocol,this.protocol.indexOf(":")===-1&&(this.protocol+=":")}return Ye(i,[{key:"getScriptSrc",value:function(r){return this.protocol+"//"+r.hostAndPath+"?v="+r.v+"&key="+r.key+"&callback="+r.callback}},{key:"buildScriptTag",value:function(r){var e=document.createElement("script");return e.type="text/javascript",e.async=!0,e.defer=!0,e.src=r,e}},{key:"getAmapuiPromise",value:function(){var r=this.buildScriptTag(this.protocol+"//webapi.amap.com/ui/1.0/main-async.js"),e=new Promise(function(n){r.onload=function(){n()}});return document.body.appendChild(r),e}},{key:"getMainPromise",value:function(){var r=this,e=this.buildScriptTag(this.getScriptSrc(this.config)),n=new Promise(function(a){window[r.config.callback]=function(){a(),delete window[r.config.callback]}});return document.body.appendChild(e),n}},{key:"load",value:function(){if(typeof window=="undefined")return null;var r=this.config.useAMapUI;return F=F||this.getMainPromise(),r&&(A=A||this.getAmapuiPromise()),new Promise(function(e){F.then(function(){r&&A?A.then(function(){window.initAMapUI&&!ye&&(window.initAMapUI(),typeof r=="function"&&r(),ye=!0),e()}):e()})})}}]),i}();K.default=tt;var E={};Object.defineProperty(E,"__esModule",{value:!0});var nt=function(t){return!!t&&typeof t=="function"};E.default=nt;var h={};Object.defineProperty(h,"__esModule",{value:!0});var ge={MARKER_ID_CONFLICT:"Marker \u7684 id \u5C5E\u6027\u91CD\u590D",MARKER_ID_REQUIRED:"\u6BCF\u4E00\u4E2A Marker \u5FC5\u9700\u6709\u4E00\u4E2A id \u5C5E\u6027",MAP_INSTANCE_REQUIRED:"\u6CA1\u6709\u5730\u56FE\u5B9E\u4F8B\uFF1B\u7EC4\u4EF6\u5FC5\u987B\u4F5C\u4E3A Map \u7684\u5B50\u7EC4\u4EF6\u4F7F\u7528",CIRCLE_INSTANCE_REQUIRED:"",CIRCLE_CENTER_REQUIRED:"Circle \u7EC4\u4EF6\u5FC5\u9700\u8BBE\u7F6E center \u5C5E\u6027",CIRCLE_RADIUS_REQUIRED:"Circle \u7EC4\u4EF6\u5FC5\u9700\u8BBE\u7F6E radius \u5C5E\u6027",SRC_REQUIRED:"GroundImage \u7EC4\u4EF6\u5FC5\u9700\u8BBE\u7F6E src \u5C5E\u6027",BOUNDS_REQUIRED:"GroundImage \u7EC4\u4EF6\u5FC5\u9700\u8BBE\u7F6E bounds \u5C5E\u6027",WINDOW_POSITION_REQUIRED:"InfoWindow \u7EC4\u4EF6\u5FC5\u9700\u8BBE\u7F6E position \u5C5E\u6027",INVALID_AMAP_PLUGIN:"plugins \u5C5E\u6027\u4E0D\u6B63\u786E\uFF1B\u76EE\u524D\u652F\u6301\u7684\u63D2\u4EF6\u6709'Scale', 'ToolBar', 'MapType', 'OverView'"},L=function(t){return t in ge?ge[t]:t},rt={error:function(t){throw new Error(L(t))},warning:function(t){console.warn(L(t))},optimize:function(t){console.log("%c"+L(t),"color:#d4d483;border-left: 2px solid #d4d483;padding-left: 4px;")}};h.default=rt;var _={};Object.defineProperty(_,"__esModule",{value:!0});var X=typeof window!="undefined",it=_.toLnglat=function(t){if(!t||"getLng"in t&&"getLat"in t)return t;var r=0,e=0;return{}.toString.call(t)==="[object Array]"?(r=t[0],e=t[1]):"lng"in t&&"lat"in t?(r=t.lng,e=t.lat):"longitude"in t&&"latitude"in t&&(r=t.longitude,e=t.latitude),X?new window.AMap.LngLat(r,e):null},at=_.toPixel=function(t){if(!t||"getX"in t&&"getY"in t)return t;var r=0,e=0;return{}.toString.call(t)==="[object Array]"?(r=t[0],e=t[1]):"x"in t&&"y"in t&&(r=t.x,e=t.y),X?new window.AMap.Pixel(r,e):null},ot=_.toSize=function(t){return!t||"getWidth"in t?t:X?new window.AMap.Size(t.width,t.height):null};_.default={toLnglat:it,toPixel:at,toSize:ot};var y={},Y={};Object.defineProperty(Y,"__esModule",{value:!0});var ut=function(t){return t[0].toUpperCase()+t.slice(1,t.length)};Y.default=ut;Object.defineProperty(y,"__esModule",{value:!0});var lt=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(i[e]=r[e])}return i},ft=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),ct=p.exports,we=Ae(ct),st=Y,dt=Ae(st);function Ae(i){return i&&i.__esModule?i:{default:i}}function vt(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function pt(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function ht(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}function _t(i){return function(t){ht(r,t);function r(e){vt(this,r);var n=pt(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return n.instanceCreated=!1,n.myMapComponent=null,n.registeredEvents=[],n.onInstanceCreated=n.onInstanceCreated.bind(n),n}return ft(r,[{key:"onInstanceCreated",value:function(){if(this.instanceCreated=!0,"events"in this.props){var n=this.myMapComponent.instance;this.props.events.created&&this.props.events.created(n)}this.reactivePropChange(this.props,!1)}},{key:"createEventsProxy",value:function(n){var a=this,o=this.myMapComponent.instance,l=Object.keys(n.events||{});l.length&&l.forEach(function(u){a.registeredEvents.indexOf(u)===-1&&(a.registeredEvents.push(u),o.on(u,function(f){return function(){if(a.props.events&&f in a.props.events){for(var v=arguments.length,c=Array(v),w=0;w<v;w++)c[w]=arguments[w];a.props.events[f].apply(null,c)}}}(u)))})}},{key:"componentWillReceiveProps",value:function(n){this.reactivePropChange(n,!0)}},{key:"reactivePropChange",value:function(n){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!this.instanceCreated)return!1;var l=this.myMapComponent,u=l.setterMap,f=u===void 0?{}:u,v=l.converterMap,c=v===void 0?{}:v,w=l.instance,C=w===void 0?{}:w,P=Object.keys(n);P.length&&P.forEach(function(d){if(d==="events")return a.createEventsProxy(n);var b=!0;if(o&&(b=a.detectPropChange(d,n,a.props)),!b)return!1;var O=n[d];if(d in c&&(O=c[d](n[d])),d in f)f[d](O);else{var _e="set"+(0,dt.default)(d);_e in C&&C[_e](O)}})}},{key:"detectPropChange",value:function(n,a,o){return a[n]!==o[n]}},{key:"render",value:function(){var n=this;return we.default.createElement(i,lt({onInstanceCreated:this.onInstanceCreated,ref:function(o){n.myMapComponent=o}},this.props))}},{key:"componentWillUnmount",value:function(){var n=this.myMapComponent.instance;!n||("destroy"in n&&setTimeout(function(){n.destroy()},10),"hide"in n&&n.hide(),"__map__"in this.props&&"setMap"in n&&n.setMap(null))}}]),r}(we.default.Component)}y.default=_t;Object.defineProperty(Z,"__esModule",{value:!0});var be=Object.assign||function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(i[e]=r[e])}return i},mt=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),yt=p.exports,M=I(yt),gt=K,wt=I(gt),bt=E,ke=I(bt),kt=h,U=I(kt),Mt=_,Et=y,Ct=I(Et);function I(i){return i&&i.__esModule?i:{default:i}}function Me(i,t){var r={};for(var e in i)t.indexOf(e)>=0||!Object.prototype.hasOwnProperty.call(i,e)||(r[e]=i[e]);return r}function Pt(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Ot(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function $t(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var It=M.default.Component,Rt=M.default.Children,At={width:"100%",height:"100%"},St={width:"100%",height:"100%",position:"relative"},xt=["layers","zoom","center","labelzIndex","mapStyle","features","cursor","pitch"],q=["animateEnable","doubleClickZoom","dragEnable","isHotspot","jogEnable","keyboardEnable","resizeEnable","rotateEnable","scrollWheel","touchZoom","zoomEnable"],Se=["view","zooms","showIndoorMap","indoorMap","expandZoomRange","showBuildingBlock","viewMode","pitchEnable","buildingAnimation","skyColor"],Dt=xt.concat(q,Se),Ee={MapType:{showRoad:!1,showTraffic:!1,defaultType:0},ToolBar:{position:"RB",noIpLocate:!0,locate:!0,liteStyle:!0,autoPosition:!1},OverView:{},ControlBar:{}},Wt=function(i){$t(t,i);function t(r){Pt(this,t);var e=Ot(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));e.state={mapLoaded:!1};var n=e;return e.setterMap={zoom:function(o){n.map.setZoom(o)},cursor:function(o){n.map.setDefaultCursor(o)},labelzIndex:function(o){n.map.setlabelzIndex(o)}},e.converterMap={center:Mt.toLnglat},typeof window!="undefined"&&(e.pluginMap={},new wt.default({key:r.amapkey,useAMapUI:r.useAMapUI,version:r.version,protocol:r.protocol}).load().then(function(){e.createInstance(),e.state.mapLoaded||e.setState({mapLoaded:!0})})),e}return mt(t,[{key:"componentWillReceiveProps",value:function(e){this.state.mapLoaded&&this.updateMapProps(this.props,e)}},{key:"renderChildren",value:function(){var e=this;return Rt.map(this.props.children,function(n){if(n){var a=n.type;return a.preventAmap||typeof a=="string"?n:M.default.cloneElement(n,{__map__:e.map})}return n})}},{key:"createInstance",value:function(){if(!this.map){var e=this.buildCreateOptions();this.map=new window.AMap.Map(this.mapWrapper,e),this.setPlugins(this.props),this.props.onInstanceCreated&&this.props.onInstanceCreated()}}},{key:"buildCreateOptions",value:function(){var e=this,n=this.props,a={};return Dt.forEach(function(o){o in n&&(a[o]=e.getSetterValue(o,n))}),a}},{key:"updateMapProps",value:function(e,n){var a=this,o={},l=!1,u=!1;q.forEach(function(f){f in n&&(u=!0,a.detectPropChanged(f,e,n)&&(l=!0,o[f]=n[f]))}),l&&this.map.setStatus(o),u&&"status"in n&&U.default.warning(`\u4EE5\u4E0B\u8FD9\u4E9B\u5C5E\u6027\u53EF\u4EE5\u5355\u72EC\u63D0\u4F9B\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E5F\u53EF\u4EE5\u7EDF\u4E00\u4F5C\u4E3A\u2018status\u2019\u5C5E\u6027\u914D\u7F6E\uFF1B\u4F46\u662F\u8BF7\u4E0D\u8981\u540C\u65F6\u4F7F\u7528\u8FD9\u4E24\u79CD\u65B9\u5F0F\u3002
\uFF08`+q.join(", ")+"\uFF09"),Se.forEach(function(f){f in n&&a.detectPropChanged(f,e,n)&&U.default.warning("'"+f+"' \u662F\u4E00\u4E2A\u9759\u6001\u5C5E\u6027\uFF0C\u5730\u56FE\u5B9E\u4F8B\u521B\u5EFA\u6210\u529F\u540E\u65E0\u6CD5\u4FEE\u6539")}),this.setPlugins(n)}},{key:"getSetterValue",value:function(e,n){return e in this.converterMap?this.converterMap[e](n[e]):n[e]}},{key:"detectPropChanged",value:function(e,n,a){return n[e]!==a[e]}},{key:"setPlugins",value:function(e){var n=this,a=["Scale","ToolBar","MapType","OverView","ControlBar"];if("plugins"in e){var o=e.plugins;o&&o.length&&o.forEach(function(l){var u=void 0,f=void 0,v=void 0;typeof l=="string"?(u=l,f=null,v=!0):(u=l.name,f=l.options||{},v="visible"in f&&typeof f.visible=="boolean"?f.visible:!0,delete f.visible);var c=a.indexOf(u);c===-1?U.default.warning("\u6CA1\u6709 \u2018"+u+"\u2019 \u8FD9\u4E2A\u63D2\u4EF6\uFF0C\u8BF7\u68C0\u67E5\u662F\u5426\u62FC\u5199\u9519\u8BEF"):v&&(a.splice(c,1),n.installPlugin(u,f))})}this.removeOrDisablePlugins(a)}},{key:"removeOrDisablePlugins",value:function(e){var n=this;e&&e.length&&e.forEach(function(a){a in n.pluginMap&&(a==="ControlBar"?(n.map.removeControl(n.pluginMap[a]),delete n.pluginMap[a]):n.pluginMap[a].hide())})}},{key:"installPlugin",value:function(e,n){switch(n=n||{},e){case"Scale":case"ToolBar":case"OverView":case"MapType":this.setMapPlugin(e,n);break;case"ControlBar":this.setControlBar(n);break}}},{key:"setMapPlugin",value:function(e,n){var a=this;if(this.pluginMap[e])this.pluginMap[e].show();else{var o=n.onCreated,l=Me(n,["onCreated"]),u=be({},Ee[e],l);this.map.plugin(["AMap."+e],function(){a.pluginMap[e]=new window.AMap[e](u),a.map.addControl(a.pluginMap[e]),(0,ke.default)(o)&&o(a.pluginMap[e])})}}},{key:"setControlBar",value:function(e){var n=this;if(!this.pluginMap.ControlBar){var a=e.onCreated,o=Me(e,["onCreated"]),l=be({},Ee.ControlBar,o);this.map.plugin(["AMap.ControlBar"],function(){n.pluginMap.ControlBar=new window.AMap.ControlBar(l),n.map.addControl(n.pluginMap.ControlBar),(0,ke.default)(a)&&a(n.pluginMap.ControlBar)})}}},{key:"render",value:function(){var e=this;return M.default.createElement("div",{style:St},M.default.createElement("div",{ref:function(a){e.mapWrapper=a},style:At},this.state.mapLoaded?null:this.props.loading||null),M.default.createElement("div",null,this.state.mapLoaded?this.renderChildren():null))}},{key:"instance",get:function(){return this.map}}]),t}(It);Z.default=(0,Ct.default)(Wt);var J={},m={};Object.defineProperty(m,"__esModule",{value:!0});m.renderMarkerComponent=m.getPropValue=m.MarkerAllProps=m.MarkerConfigurableProps=void 0;var Ce=_,Tt=p.exports,jt=xe(Tt),Ft=D.exports,Lt=E,Ut=xe(Lt);function xe(i){return i&&i.__esModule?i:{default:i}}var Nt=m.MarkerConfigurableProps=["position","offset","icon","content","draggable","visible","zIndex","angle","animation","shadow","title","clickable","extData","label"],Bt=m.MarkerAllProps=Nt.concat(["topWhenClick","bubble","raiseOnDrag","cursor","autoRotation","shape"]);m.getPropValue=function(t,r){return Bt.indexOf(t)===-1?null:t==="position"?(0,Ce.toLnglat)(r):t==="offset"?(0,Ce.toPixel)(r):r};m.renderMarkerComponent=function(t,r){var e=t;if((0,Ut.default)(t)){var n=r.getExtData();e=t(n)}e&&(0,Ft.render)(jt.default.createElement("div",null,e),r.getContent())};Object.defineProperty(J,"__esModule",{value:!0});var Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},zt=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),Vt=p.exports,Pe=ee(Vt),Qt=D.exports,Gt=h,qt=ee(Gt),Zt=y,Kt=ee(Zt),N=m,Oe=_;function ee(i){return i&&i.__esModule?i:{default:i}}function Xt(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Yt(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function Jt(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var en=function(i){Jt(t,i);function t(r){Xt(this,t);var e=Yt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(typeof window!="undefined")if(!r.__map__)qt.default.warning("MAP_INSTANCE_REQUIRED");else{var n=e;e.setterMap={visible:function(o){o?n.marker&&n.marker.show():n.marker&&n.marker.hide()},zIndex:function(o){n.marker&&n.marker.setzIndex(o)}},e.converterMap={position:Oe.toLnglat,offset:Oe.toPixel},e.map=r.__map__,e.element=e.map.getContainer(),setTimeout(function(){e.createMarker(r)},13)}return e}return zt(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){this.map&&this.refreshMarkerLayout(e)}},{key:"createMarker",value:function(e){var n=this.buildCreateOptions(e);this.marker=new window.AMap.Marker(n),this.marker.render=function(a){return function(o){(0,N.renderMarkerComponent)(o,a)}}(this.marker),this.props.onInstanceCreated&&this.props.onInstanceCreated(),this.setMarkerLayout(e),this.setChildComponent(e)}},{key:"buildCreateOptions",value:function(e){var n=this,a={};return N.MarkerAllProps.forEach(function(o){o in e&&(a[o]=n.getSetterParam(o,e[o]))}),a.map=this.map,a}},{key:"setMarkerLayout",value:function(e){("render"in e||"children"in e&&e.children)&&(this.createContentWrapper(),"className"in e&&e.className&&(this.contentWrapper.className=e.className))}},{key:"createContentWrapper",value:function(){this.contentWrapper=document.createElement("div"),this.marker.setContent(this.contentWrapper)}},{key:"setChildComponent",value:function(e){if(this.contentWrapper){if("className"in e&&e.className&&(this.contentWrapper.className=e.className),"render"in e)(0,N.renderMarkerComponent)(e.render,this.marker);else if("children"in e){var n=e.children,a=typeof n=="undefined"?"undefined":Ht(n);a!=="undefined"&&this.contentWrapper&&(0,Qt.render)(Pe.default.createElement("div",null,n),this.contentWrapper)}}}},{key:"refreshMarkerLayout",value:function(e){this.setChildComponent(e)}},{key:"getSetterParam",value:function(e,n){return e in this.converterMap?this.converterMap[e](n):n}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.marker}}]),t}(Pe.default.Component);J.default=(0,Kt.default)(en);var te={};Object.defineProperty(te,"__esModule",{value:!0});var tn=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),nn=p.exports,De=ne(nn),rn=D.exports,an=E,k=ne(an),on=h,un=ne(on),$=m;function ne(i){return i&&i.__esModule?i:{default:i}}function ln(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function fn(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function cn(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}if(typeof window!="undefined"){var sn=`.amap_markers_pop_window{
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 8px;
    background: #fff;
    position: relative;
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
}
.amap_markers_pop_window::before{
    content: ' ';
    display: block;
    position: absolute;
    bottom: -12px;
    left: 50%;
    margin-left: -7px;
    width: 0;
    height: 0;
    border-top: 12px solid #ddd;
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
}
.amap_markers_pop_window::after{
    content: ' ';
    display: block;
    position: absolute;
    bottom: -11px;
    left: 50%;
    margin-left: -6px;
    width: 0;
    height: 0;
    border-top: 11px solid #fff;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
}
.amap_markers_pop_window_item{
    cursor:pointer;
    width: 40px;
    height: 50px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
}
.amap_markers_pop_window_item span{
    pointer-events: none;
}
.amap_markers_window_overflow_warning{
    text-align: center;
    width: 100%;
    margin: 5px 0;
    color: #666;
}`,dn=document.head||document.getElementsByTagName("head")[0],B=document.createElement("style");B.type="text/css",B.textContent=sn,dn.appendChild(B)}var vn=De.default.Component,W=.8,pn=32*W,hn=46*W-2,_n=46*W,mn=66*W-2,H=42,z={useCluster:!1,markersCache:[],markerIDCache:[]},yn=["gridSize","minClusterSize","maxZoom","averageCenter","styles","zoomOnClick","renderCluserMarker"],gn="__react_amap__",wn=function(i){cn(t,i);function t(r){ln(this,t);var e=fn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return typeof window!="undefined"&&(r.__map__?(e.map=r.__map__,e.element=e.map.getContainer(),e.markersCache=z.markersCache,e.useCluster=null,e.markerIDCache=z.markerIDCache,e.resetOffset=new window.AMap.Pixel(-pn/2,-hn),e.hoverOffset=new window.AMap.Pixel(-_n/2,-mn),e.createMarkers(r)):un.default.warning("MAP_INSTANCE_REQUIRED")),e}return tn(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"createMarkers",value:function(e){var n=this,a=e.markers||[],o=[],l={};a.length&&a.forEach(function(u,f){var v=n.buildCreateOptions(e,u,f);v.map=n.map;var c=null;if((0,k.default)(e.render)){var w=e.render(u);if(w!==!1){var C=document.createElement("div");C.setAttribute(gn,"1"),c=C,l[f]=w}}if(!c){c=document.createElement("div");var P=document.createElement("img");P.src="//webapi.amap.com/theme/v1.3/markers/n/mark_bs.png",c.appendChild(P)}v.content=c;var d=new window.AMap.Marker(v);d.on("click",function(b){n.onMarkerClick(b)}),d.on("mouseover",function(b){n.onMarkerHover(b)}),d.on("mouseout",function(b){n.onMarkerHoverOut(b)}),d.render=function(b){return function(O){return(0,$.renderMarkerComponent)(O,b)}}(d),n.bindMarkerEvents(d),o.push(d)}),this.markersCache=o,this.markerReactChildDOM=l,this.exposeMarkerInstance(),this.checkClusterSettings(e)}},{key:"checkClusterSettings",value:function(e){var n=this;if(e.useCluster)this.loadClusterPlugin(e.useCluster).then(function(o){o.setMarkers(n.markersCache)});else if(this.mapCluster){var a=this.mapCluster.getMarkers();this.mapCluster.clearMarkers(),a.forEach(function(o){o.setMap(n.map)})}}},{key:"componentDidMount",value:function(){this.map&&this.setMarkerChild()}},{key:"setMarkerChild",value:function(){var e=this;Object.keys(this.markerReactChildDOM).forEach(function(n){var a=e.markersCache[n].getContent(),o=e.markerReactChildDOM[n];e.renderMarkerChild(a,o)})}},{key:"renderMarkerChild",value:function(e,n){(0,rn.render)(De.default.createElement("div",null,n),e)}},{key:"buildCreateOptions",value:function(e,n,a){var o={},l=["extData"];return $.MarkerAllProps.forEach(function(u){if(u in n&&l.indexOf(u)===-1)o[u]=(0,$.getPropValue)(u,n[u]);else if(u in e)if((0,k.default)(e[u])){var f=e[u].call(null,n,a);o[u]=(0,$.getPropValue)(u,f)}else o[u]=(0,$.getPropValue)(u,e[u])}),o.extData=n,o}},{key:"componentWillReceiveProps",value:function(e){this.map&&this.refreshMarkersLayout(e)}},{key:"refreshMarkersLayout",value:function(e){var n=e.markers!==this.props.markers,a=!!this.props.useCluster!=!!e.useCluster;n&&(this.markersCache.length&&this.markersCache.forEach(function(o){o&&(o.setMap(null),o=null)}),this.markersCache=z.markersCache,this.createMarkers(e),this.setMarkerChild()),(n||a)&&this.markersWindow&&this.markersWindow.close(),a&&this.checkClusterSettings(e)}},{key:"loadClusterPlugin",value:function(e){var n=this;if(this.mapCluster)return Promise.resolve(this.mapCluster);var a=typeof e=="boolean"?{}:e;return new Promise(function(o){n.map.plugin(["AMap.MarkerClusterer"],function(){o(n.createClusterPlugin(a))})})}},{key:"createClusterPlugin",value:function(e){var n={},a={minClusterSize:2,zoomOnClick:!1,maxZoom:18,gridSize:60,averageCenter:!0};yn.forEach(function(l){l in e?n[l]=e[l]:n[l]=a[l]}),this.mapCluster=new window.AMap.MarkerClusterer(this.map,[],n);var o={};return"events"in e&&(o=e.events,"created"in o&&o.created(this.mapCluster)),this.initClusterMarkerWindow(),this.bindClusterEvent(o),this.mapCluster}},{key:"onMarkerClick",value:function(e){var n=e.target;this.triggerMarkerClick(e,n)}},{key:"onMarkerHover",value:function(e){e.target.setTop(!0),this.setMarkerHovered(e,e.target)}},{key:"onMarkerHoverOut",value:function(e){e.target.setTop(!1),this.setMarkerHoverOut(e,e.target)}},{key:"onWindowMarkerClick",value:function(e){var n=e.markerRef;this.triggerMarkerClick(null,n)}},{key:"onWindowMarkerHover",value:function(e){var n=e.markerRef;this.setMarkerHovered(null,n)}},{key:"onWindowMarkerHoverOut",value:function(e){var n=e.markerRef;this.setMarkerHoverOut(null,n)}},{key:"setMarkerHovered",value:function(e,n){this.triggerMarkerHover(e,n)}},{key:"setMarkerHoverOut",value:function(e,n){this.triggerMarkerHoverOut(e,n)}},{key:"triggerMarkerClick",value:function(e,n){var a=this.props.events||{};(0,k.default)(a.click)&&a.click(e,n)}},{key:"triggerMarkerHover",value:function(e,n){var a=this.props.events||{};(0,k.default)(a.mouseover)&&a.mouseover(e,n)}},{key:"triggerMarkerHoverOut",value:function(e,n){var a=this.props.events||{};(0,k.default)(a.mouseout)&&a.mouseout(e,n)}},{key:"initClusterMarkerWindow",value:function(){this.markersWindow=new window.AMap.InfoWindow({isCustom:!0,autoMove:!0,closeWhenClickMap:!0,content:"<span>loading...</span>",showShadow:!1,offset:new window.AMap.Pixel(0,-20)}),this.markersDOM=document.createElement("div"),this.markersDOM.className="amap_markers_pop_window",this.markersWindow.setContent(this.markersDOM)}},{key:"bindClusterEvent",value:function(e){var n=this;this.mapCluster.on("click",function(a){if(!(n.props.useCluster&&n.props.useCluster.zoomOnClick)){var o=!0;(0,k.default)(e.click)&&(o=e.click(a)),o!==!1&&n.showMarkersInfoWindow(a)}})}},{key:"showMarkersInfoWindow",value:function(e){var n=this,a=e.lnglat,o=e.markers;if(this.markersDOM.innerHTML="",o&&o.length){var l=o.length;if(l>H&&(o=o.slice(0,H)),o.forEach(function(f){var v=f.getContent(),c=document.createElement("div");c.className="window_marker_item",c.appendChild(v),c.markerRef=f,c.addEventListener("click",n.onWindowMarkerClick.bind(n,c),!0),c.addEventListener("mouseover",n.onWindowMarkerHover.bind(n,c),!0),c.addEventListener("mouseout",n.onWindowMarkerHoverOut.bind(n,c),!0),n.markersDOM.appendChild(c)}),l>H){var u=document.createElement("div");u.className="amap_markers_window_overflow_warning",u.innerText="\u66F4\u591A\u5750\u6807\u8BF7\u653E\u5927\u5730\u56FE\u67E5\u770B",this.markersDOM.appendChild(u)}}this.markersWindow.open(this.map,a)}},{key:"exposeMarkerInstance",value:function(){if("events"in this.props){var e=this.props.events||{};(0,k.default)(e.created)&&e.created(this.markersCache)}}},{key:"bindMarkerEvents",value:function(e){var n=this.props.events||{},a=Object.keys(n),o=["click","mouseover","mouseout","created"];a.length&&a.forEach(function(l){o.indexOf(l)===-1&&e.on(l,n[l])})}},{key:"render",value:function(){return null}}]),t}(vn);te.default=wn;var re={};Object.defineProperty(re,"__esModule",{value:!0});var bn=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),kn=p.exports,S=ie(kn),Mn=y,En=ie(Mn),Cn=h,Pn=ie(Cn),On=_;function ie(i){return i&&i.__esModule?i:{default:i}}function $n(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function In(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function Rn(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var An=["center","radius","draggable","extData","visible","style"],Sn=An.concat(["zIndex","bubble"]),xn=function(i){Rn(t,i);function t(r){$n(this,t);var e=In(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(typeof window!="undefined")if(!r.__map__)Pn.default.warning("MAP_INSTANCE_REQUIRED");else{var n=e;e.setterMap={visible:function(o){n.mapCircle&&(o?n.mapCircle.show():n.mapCircle.hide())},style:function(o){n.mapCircle&&n.mapCircle.setOptions(o)}},e.converterMap={center:On.toLnglat},e.state={loaded:!1},e.map=r.__map__,e.element=e.map.getContainer(),e.createInstance(r).then(function(){e.setState({loaded:!0}),e.props.onInstanceCreated&&e.props.onInstanceCreated()})}return e}return bn(t,[{key:"createInstance",value:function(e){var n=this.buildCreateOptions(e);return n.map=this.map,this.mapCircle=new window.AMap.Circle(n),Promise.resolve(this.mapCircle)}},{key:"buildCreateOptions",value:function(e){var n=this,a={};return Sn.forEach(function(o){if(o in e)if(o==="style"&&e.style!==void 0){var l=Object.keys(e.style);l.forEach(function(u){a[u]=e.style[u]})}else a[o]=n.getSetterValue(o,e)}),a}},{key:"getSetterValue",value:function(e,n){return e in this.converterMap?this.converterMap[e](n[e]):n[e]}},{key:"renderEditor",value:function(e){return!e||S.default.Children.count(e)!==1?null:S.default.cloneElement(S.default.Children.only(e),{__circle__:this.mapCircle,__map__:this.map,__ele__:this.element})}},{key:"render",value:function(){return this.state.loaded?this.renderEditor(this.props.children):null}},{key:"instance",get:function(){return this.mapCircle}}]),t}(S.default.Component);re.default=(0,En.default)(xn);var ae={},R={};Object.defineProperty(R,"__esModule",{value:!0});var Dn=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),Wn=p.exports,Tn=oe(Wn),jn=y,Fn=oe(jn),Ln=h,Un=oe(Ln);function oe(i){return i&&i.__esModule?i:{default:i}}function Nn(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function Hn(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var zn=function(i){Hn(t,i);function t(r){Nn(this,t);var e=Bn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(typeof window!="undefined")if(!(r.__map__&&r.__poly__))Un.default.warning("MAP_INSTANCE_REQUIRED");else{var n=e;e.setterMap={active:function(o){n.toggleActive(o)}},e.map=r.__map__,e.poly=r.__poly__,e.editorActive=!1,e.createEditorInstance().then(function(){e.props.onInstanceCreated&&e.props.onInstanceCreated()})}return e}return Dn(t,[{key:"toggleActive",value:function(e){e?this.editorActive||this.activeEditor():this.editorActive&&this.inactiveEditor()}},{key:"activeEditor",value:function(){this.polyEditor&&(this.editorActive=!0,this.polyEditor.open())}},{key:"inactiveEditor",value:function(){this.editorActive=!1,this.polyEditor&&this.polyEditor.close()}},{key:"createEditorInstance",value:function(){var e=this;return this.polyEditor?Promise.resolve(this.polyEditor):new Promise(function(n){e.map.plugin(["AMap.PolyEditor"],function(){e.polyEditor=new window.AMap.PolyEditor(e.map,e.poly),n(e.polyEditor)})})}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.polyEditor}}]),t}(Tn.default.Component);R.default=(0,Fn.default)(zn);Object.defineProperty(ae,"__esModule",{value:!0});var Vn=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),We=p.exports,V=T(We),Qn=y,Gn=T(Qn),qn=h,Zn=T(qn),Kn=R,Xn=T(Kn),$e=_;function T(i){return i&&i.__esModule?i:{default:i}}function Yn(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Jn(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function er(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var tr=["path","draggable","extData","style","visible"],nr=tr.concat(["zIndex","bubble"]),rr=function(i){er(t,i);function t(r){Yn(this,t);var e=Jn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(typeof window!="undefined")if(!r.__map__)Zn.default.warning("MAP_INSTANCE_REQUIRED");else{var n=e;e.setterMap={visible:function(o){o?n.polygon&&n.polygon.show():n.polygon&&n.polygon.hide()},style:function(o){n.polygon.setOptions(o)}},e.converterMap={path:function(o){return n.buildPathValue(o)}},e.state={loaded:!1},e.map=r.__map__,e.element=e.map.getContainer(),setTimeout(function(){e.initMapPolygon(r)},13)}return e}return Vn(t,[{key:"initMapPolygon",value:function(e){var n=this.buildCreateOptions(e);n.map=this.map,this.polygon=new window.AMap.Polygon(n),this.setState({loaded:!0}),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"buildCreateOptions",value:function(e){var n=this,a={};return nr.forEach(function(o){if(o in e)if(o==="style"&&e.style){var l=Object.keys(e.style);l.forEach(function(u){a[u]=e.style[u]})}else o!=="visible"&&(a[o]=n.getSetterValue(o,e[o]))}),a}},{key:"detectPropChanged",value:function(e,n){return this.props[e]!==n[e]}},{key:"getSetterValue",value:function(e,n){return e in this.converterMap?this.converterMap[e](n):n}},{key:"buildPathValue",value:function(e){var n=this;if(e.length){var a=e[0];if(typeof a[0]=="number")return e.map(function(o){return(0,$e.toLnglat)(o)});if("getLng"in a)return e;if("longitude"in a||"lng"in a)return e.map(function(o){return(0,$e.toLnglat)(o)});if("length"in a&&a.length)return e.map(function(o){return n.buildPathValue(o)})}return[]}},{key:"renderEditor",value:function(e){if(!e||V.default.Children.count(e)!==1)return null;var n=V.default.Children.only(e);return n.type===Xn.default?V.default.cloneElement(n,{__poly__:this.polygon,__map__:this.map}):null}},{key:"render",value:function(){return this.state.loaded?this.renderEditor(this.props.children):null}},{key:"instance",get:function(){return this.polygon}}]),t}(We.Component);ae.default=(0,Gn.default)(rr);var ue={};Object.defineProperty(ue,"__esModule",{value:!0});var ir=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),ar=p.exports,x=j(ar),or=y,ur=j(or),lr=h,fr=j(lr),cr=R,sr=j(cr),dr=_;function j(i){return i&&i.__esModule?i:{default:i}}function vr(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function pr(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function hr(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var _r=x.default.Component,mr=["path","extData","draggable","visible","style"],yr=mr.concat(["zIndex","bubble","showDir"]),gr=function(i){hr(t,i);function t(r){vr(this,t);var e=pr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(typeof window!="undefined")if(!r.__map__)fr.default.warning("MAP_INSTANCE_REQUIRED");else{var n=e;e.setterMap={visible:function(o){o?n.polyline&&n.polyline.show():n.polyline&&n.polyline.hide()},style:function(o){n.polyline.setOptions(o)}},e.converterMap={path:function(o){return n.buildPathValue(o)}},e.state={loaded:!1},e.map=r.__map__,e.element=e.map.getContainer(),setTimeout(function(){e.createMapPolyline(r)},13)}return e}return ir(t,[{key:"createMapPolyline",value:function(e){var n=this.buildCreateOptions(e);n.map=this.map,this.polyline=new window.AMap.Polyline(n),this.setState({loaded:!0}),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"buildCreateOptions",value:function(e){var n=this,a={};return yr.forEach(function(o){if(o in e)if(o==="style"&&e.style){var l=Object.keys(e.style);l.forEach(function(u){a[u]=e.style[u]})}else o!=="visible"&&(a[o]=n.getSetterValue(o,e[o]))}),a}},{key:"detectPropChanged",value:function(e,n){return this.props[e]!==n[e]}},{key:"getSetterValue",value:function(e,n){return e in this.converterMap?this.converterMap[e](n):n}},{key:"buildPathValue",value:function(e){return e.length?"getLng"in e[0]?e:e.map(function(n){return(0,dr.toLnglat)(n)}):e}},{key:"renderEditor",value:function(e){if(!e||x.default.Children.count(e)!==1)return null;var n=x.default.Children.only(e);return n.type===sr.default?x.default.cloneElement(n,{__poly__:this.polyline,__map__:this.map}):null}},{key:"render",value:function(){return this.state.loaded?this.renderEditor(this.props.children):null}},{key:"instance",get:function(){return this.polyline}}]),t}(_r);ue.default=(0,ur.default)(gr);var le={};Object.defineProperty(le,"__esModule",{value:!0});var wr=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),br=p.exports,Te=fe(br),kr=D.exports,Mr=y,Er=fe(Mr),Cr=h,Pr=fe(Cr),Q=_;function fe(i){return i&&i.__esModule?i:{default:i}}function Or(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function $r(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function Ir(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var Rr=Te.default.Component,Ar=["content","position","size","visible","offset"],Sr=Ar.concat(["isCustom","autoMove","closeWhenClickMap","showShadow"]),xr=function(i){Ir(t,i);function t(r){Or(this,t);var e=$r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(typeof window!="undefined")if(!r.__map__)Pr.default.warning("MAP_INSTANCE_REQUIRED");else{var n=e;e.setterMap={visible:function(o){o?(n.showWindow(),n.setClassName(n.props),n.setChild(n.props)):n.closeWindow()}},e.converterMap={size:Q.toSize,offset:Q.toPixel,position:Q.toLnglat},e.map=r.__map__,e.isCustom=!0,setTimeout(function(){e.createInfoWindow(r)},13)}return e}return wr(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillReceiveProps",value:function(e){this.map&&this.refreshWindowLayout(e)}},{key:"createInfoWindow",value:function(e){var n=this.buildCreateOptions(e);this.infoWindow=new window.AMap.InfoWindow(n),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"refreshWindowLayout",value:function(e){this.setChild(e),this.setClassName(e)}},{key:"checkPropChanged",value:function(e,n){return this.props[e]!==n[e]}},{key:"showWindow",value:function(){this.infoWindow.open(this.map,this.infoWindow.getPosition())}},{key:"closeWindow",value:function(){this.infoWindow.close()}},{key:"buildCreateOptions",value:function(e){var n=this,a={};return"isCustom"in e?a.isCustom=!!e.isCustom:a.isCustom=!1,"content"in e?a.content=e.content:(this.infoDOM=document.createElement("div"),a.content=this.infoDOM),Sr.forEach(function(o){o in e&&["visible","isCustom","content"].indexOf(o)===-1&&(a[o]=n.getSetterValue(o,e[o]))}),a}},{key:"getSetterValue",value:function(e,n){return e in this.converterMap?this.converterMap[e](n):n}},{key:"setChild",value:function(e){var n=e.children;this.infoDOM&&n?(0,kr.render)(Te.default.createElement("div",null,n),this.infoDOM):e.children&&console.warn("\u56E0\u4E3A\u4F60\u8BBE\u7F6E isCustom \u4E3A true\uFF0CInfoWindow \u7684 Children \u88AB\u5FFD\u7565")}},{key:"setClassName",value:function(e){if(this.infoDOM){var n="";"className"in e&&e.className?n+=e.className:e.isCustom===!0&&(n+="amap_markers_pop_window"),this.infoDOM.className=n}}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.infoWindow}}]),t}(Rr);le.default=(0,Er.default)(xr);var ce={};Object.defineProperty(ce,"__esModule",{value:!0});var Dr=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),Wr=p.exports,Tr=se(Wr),jr=y,Fr=se(jr),Lr=h,G=se(Lr);function se(i){return i&&i.__esModule?i:{default:i}}function Ur(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Nr(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function Br(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var Ie={clickable:!1,opacity:1,visible:!0},Hr=function(i){Br(t,i);function t(r){Ur(this,t);var e=Nr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(typeof window!="undefined")if(!r.__map__)G.default.warning("MAP_INSTANCE_REQUIRED");else{var n=e;e.setterMap={visible:function(o){o?n.image&&n.image.show():n.image&&n.image.hide()},src:function(o){n.image.setImageUrl(o)}},e.converterMap={bounds:function(o){return n.buildBounds(o)}},e.map=r.__map__,e.element=e.map.getContainer(),setTimeout(function(){e.createGroundImage(r)},13)}return e}return Dr(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"checkPropsChanged",value:function(e,n){return this.props[n]!==e[n]}},{key:"createGroundImage",value:function(e){var n=void 0,a=void 0,o=void 0,l=void 0;"src"in e?n=e.src:G.default.warning("SRC_REQUIRED",!0),"bounds"in e?a=this.buildBounds(e.bounds):G.default.warning("BOUNDS_REQUIRED",!0),"clickable"in e?l=e.clickable:l=Ie.clickable,"opacity"in e?o=e.opacity:o=Ie.opacity,this.image=new window.AMap.GroundImage(n,a,{map:this.map,clickable:l,opacity:o}),this.props.onInstanceCreated&&this.props.onInstanceCreated()}},{key:"buildBounds",value:function(e){if(!e||"getSouthWest"in e)return e;var n=new window.AMap.Bounds(new window.AMap.LngLat(e.sw.longitude,e.sw.latitude),new window.AMap.LngLat(e.ne.longitude,e.ne.latitude));return n}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.image}}]),t}(Tr.default.Component);ce.default=(0,Fr.default)(Hr);var de={};Object.defineProperty(de,"__esModule",{value:!0});var zr=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),Vr=p.exports,Qr=ve(Vr),Gr=h,qr=ve(Gr),Zr=E,Kr=ve(Zr);function ve(i){return i&&i.__esModule?i:{default:i}}function Xr(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function Yr(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function Jr(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var ei=function(i){Jr(t,i);function t(r){Xr(this,t);var e=Yr(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return typeof window!="undefined"&&(r.__map__&&r.__circle__?(e.map=r.__map__,e.element=e.map.getContainer(),e.circle=r.__circle__,e.editorActive=!1,e.onPropsUpdate(r)):qr.default.warning("CIRCLE_INSTANCE_REQUIRED")),e}return zr(t,[{key:"componentWillReceiveProps",value:function(e){this.map&&this.onPropsUpdate(e)}},{key:"onPropsUpdate",value:function(e){"active"in e&&e.active===!1?this.toggleActive(!1,e):this.toggleActive(!0,e)}},{key:"toggleActive",value:function(e,n){e?this.editorActive||this.activeEditor(n):this.editorActive&&this.inactiveEditor()}},{key:"activeEditor",value:function(e){var n=this;this.loadCircleEditor(e).then(function(a){n.editorActive=!0,a.open()})}},{key:"inactiveEditor",value:function(){this.editorActive=!1,this.circleEditor&&this.circleEditor.close()}},{key:"loadCircleEditor",value:function(e){var n=this;return this.circleEditor?Promise.resolve(this.circleEditor):new Promise(function(a){n.map.plugin(["AMap.CircleEditor"],function(){a(n.createEditorInstance(e))})})}},{key:"createEditorInstance",value:function(e){this.circleEditor=new window.AMap.CircleEditor(this.map,this.circle);var n=this.exposeEditorInstance(e);return n&&this.bindEditorEvents(n),this.circleEditor}},{key:"exposeEditorInstance",value:function(e){if("events"in e){var n=e.events||{};return(0,Kr.default)(n.created)&&n.created(this.circleEditor),delete n.created,n}return!1}},{key:"bindEditorEvents",value:function(e){var n=this,a=Object.keys(e);a.length&&a.forEach(function(o){n.circleEditor.on(o,e[o])})}},{key:"render",value:function(){return null}}]),t}(Qr.default.Component);de.default=ei;var pe={};Object.defineProperty(pe,"__esModule",{value:!0});var ti=function(){function i(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,r,e){return r&&i(t.prototype,r),e&&i(t,e),t}}(),ni=p.exports,ri=he(ni),ii=y,ai=he(ii),oi=h,ui=he(oi);function he(i){return i&&i.__esModule?i:{default:i}}function li(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function fi(i,t){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:i}function ci(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t)}var si=function(i){ci(t,i);function t(r){li(this,t);var e=fi(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));return typeof window!="undefined"&&(r.__map__?(e.map=r.__map__,e.loadToolInstance().then(function(){e.props.onInstanceCreated&&e.props.onInstanceCreated()})):ui.default.warning("MAP_INSTANCE_REQUIRED")),e}return ti(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"loadToolInstance",value:function(){var e=this;return new Promise(function(n){e.map.plugin(["AMap.MouseTool"],function(){e.tool=new window.AMap.MouseTool(e.map),n()})})}},{key:"render",value:function(){return null}},{key:"instance",get:function(){return this.tool}}]),t}(ri.default.Component);pe.default=(0,ai.default)(si);Object.defineProperty(s,"__esModule",{value:!0});s.MouseTool=Ei=s.Marker=s.GroundImage=s.InfoWindow=s.PolyEditor=s.Polyline=s.Polygon=s.CircleEditor=s.Circle=s.Markers=Mi=s.Map=void 0;var di=Z,je=g(di),vi=J,Fe=g(vi),pi=te,Le=g(pi),hi=re,Ue=g(hi),_i=ae,Ne=g(_i),mi=ue,Be=g(mi),yi=le,He=g(yi),gi=ce,ze=g(gi),wi=de,Ve=g(wi),bi=R,Qe=g(bi),ki=pe,Ge=g(ki);function g(i){return i&&i.__esModule?i:{default:i}}var Mi=s.Map=je.default;s.Markers=Le.default;s.Circle=Ue.default;s.CircleEditor=Ve.default;s.Polygon=Ne.default;s.Polyline=Be.default;s.PolyEditor=Qe.default;s.InfoWindow=He.default;s.GroundImage=ze.default;var Ei=s.Marker=Fe.default;s.MouseTool=Ge.default;s.default={Map:je.default,Markers:Le.default,Circle:Ue.default,CircleEditor:Ve.default,Polygon:Ne.default,Polyline:Be.default,PolyEditor:Qe.default,InfoWindow:He.default,GroundImage:ze.default,Marker:Fe.default,MouseTool:Ge.default};export{Pi as E,Ei as M,Mi as _};
